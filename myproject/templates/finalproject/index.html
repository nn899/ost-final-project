<html>
  <body>
    <p>
      <a href="/questions"><b>Home</b></a>
    </p>
  {% if context.user.email %}
    <p>
      Hello {{ context.user.email }}!
      (You can <a href="{{ context.logout_url }}"><b>sign out</b></a> here)
    </p>
  {% else %}
    <p>
      Hello!
      (You can <a href="{{ context.login_url }}"><b>sign in</b></a> here)
    </p>
  {% endif %}
    <p>Welcome to the Open Source Tools discussion forum!</p>
    <p><b><u>Questions:</u></b></p>
    {% if not count %}
      <p>There are currently no questions in the system.</p>
    {% endif %}

    <ul>
    {% for question in question_pages %}
      <li>{{ question.short_question }}</li>
      <li><b>Author:</b> {{ question.created_by }}, <b>Created:</b> {{ question.date_created }}, <b>Modified:</b> {{ question.date_modified }}</li>
      <li>[<a href="/questions/{{ question.key.id }}">Permalink</a>]
      {% if context.user.email == question.created_by.email %}
        [<a href="/questions/rss_feed/{{ question.key.id }}">RSS Link</a>] [<a href="/questions/edit_question/{{ question.key.id }}">Edit</a>]</li>
      {% else %}
        [<a href="/questions/rss_feed/{{ question.key.id }}">RSS Link</a>]</li>
      {% endif %}
      <br/>
    {% endfor %}
    <div class="pagination">
      <span class="step-links">
      {% if question_pages.has_previous %}
        <a href="?page={{ question_pages.previous_page_number }}">Previous</a>
      {% endif %}
      {% if question_pages %}
        <span class="current">
          [Page {{ question_pages.number }} of {{ question_pages.paginator.num_pages }}]
        </span>
      {% endif %}
      {% if question_pages.has_next %}
        <a href="?page={{ question_pages.next_page_number }}">Next</a>
      {% endif %}
      </span>
    </div>
    </ul>

    <p>[<a href="/questions/add_question">Add question</a>]</p>
    <p><b><u>Tags:</u></b></p>
    {% if not tags %}
      <p>There are currently no tags in the system.</p>
    {% endif %}
    <ul>
    {% for tag in tags %}
        {% if tag != "" or tag != " " %}
          <li><a href="/questions/tag_questions/{{ tag }}">{{ tag }}</a></li>
        {% endif %}
    {% endfor %}
    </ul>

    <p><b><u>Images:</u></b></p>
    {% if not image_count %}
      <p>There are currently no images in the system.</p>
    {% endif %}
    <ul>
    {% for image in images %}
      <li><a href="/questions/retrieve_image/{{ image.key.id }}">{{ image.name }}</a></li>
    {% endfor %}
    </ul>
    <form enctype="multipart/form-data" action="/questions/upload_image" method="POST">
      <input type="file" name="image" required="True">
      {% csrf_token %}
      {{ form.as_p }}
      <input type="submit" value="Upload Image">
    </form>
  </body>
</html>
